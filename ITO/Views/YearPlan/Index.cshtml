@model IEnumerable<ITO.ViewModels.AgencyUser.YearEventViewModel>
@{
    ViewData["Title"] = "Годовой план";

    decimal fullProcent = 0;

    float fullPriceBnow = 0;

    float fullPriceNotBnow = 0;


    foreach (var yearEvent in Model)
    {
        fullProcent += yearEvent.Procent;
        fullPriceBnow += yearEvent.FullPriceBnow;
        fullPriceNotBnow += yearEvent.FullPriceNotBnow;
    }
    fullProcent = fullProcent*100 / Model.Count();

    float fullPrice = fullPriceBnow + fullPriceNotBnow;
}



   <h1>Годовой план выполнен на @Math.Round(fullProcent,2) %</h1>
<h2>Затрачено бюджетных средств @fullPriceBnow руб.</h2>
<h2>Затрачено внебюджетных средств @fullPriceNotBnow руб.</h2>
<h2>Затрачено внебюджетных средств @fullPrice руб.</h2>

@foreach (var item in Model)
{

    @Html.Partial("PartialYearEvent", item);

}




